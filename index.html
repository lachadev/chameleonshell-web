<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chameleonshell Animation</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    background: #000;
    font-family: monospace;
    overflow: hidden;
  }

  /* Navbar */
  nav {
    width: 100%;
    background-color: #111;
    display: flex;
    justify-content: flex-end;
    padding: 10px 20px;
    box-sizing: border-box;
    position: fixed;
    top: 0;
    left: 0;
    z-index: 10; /* stays above video */
  }

  nav a {
    color: #fff;
    text-decoration: none;
    margin-left: 20px;
    font-weight: bold;
    transition: color 0.3s;
  }

  nav a:hover {
    color: #FF69B4;
  }

  /* Background video */
  #background-video {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: -1; /* stays behind everything */
  }

  /* Animation container */
  #animation-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    pointer-events: none; /* clicks pass through to page */
  }

  #animation {
    white-space: pre;       /* preserve ASCII shape */
    font-size: 14px;
    line-height: 1.1em;
    border-radius: 8px;
    padding: 20px;
    text-align: left;       /* keep ASCII aligned properly */
    display: inline-block;
    pointer-events: auto;   /* allow selecting/copying text */
  }
</style>
</head>
<body>

<nav>
  <a href="https://github.com/lachadev/chameleonshell" target="_blank">GitHub</a>
  <a href="https://discord.gg/GYjhcRTTvV" target="_blank">Discord</a>
</nav>

<video autoplay muted loop playsinline id="background-video">
  <source src="assets/videos/lach.mp4" type="video/mp4">
  Your browser does not support the video tag.
</video>

<div id="animation-container">
  <pre id="animation"></pre>
</div>

<audio id="sound" src="assets/sounds/sound.wav"></audio>

<script>
const frames = [
`   .d8888b
  d88P"
  888
  Y88b.
   "Y8888P

  made with ❤️ by lachameleon`,
`        888
          888
          888
   .d8888b88888b.
  d88P"   888 "88b
  888     888  888
  Y88b.   888  888
   "Y8888P888  888

  made with ❤️ by lachameleon`
  // ... keep rest of frames
];

const colors = ["#FF0000","#FF7F00","#FFFF00","#00FF00","#0000FF","#4B0082","#9400D3"];
const animationEl = document.getElementById("animation");
let index = 0;

function rainbowText(text) {
  return text.split("\n").map((line, i) =>
    `<span style="color:${colors[i % colors.length]}">${line}</span>`
  ).join("\n");
}

function animate() {
  animationEl.innerHTML = rainbowText(frames[index]);
  index++;
  if (index < frames.length) {
    setTimeout(animate, 100);
  }
}
animate();

// --- Sound ---
const sound = document.getElementById("sound");
function playSoundOnce() {
  if (sound.paused || sound.ended) {
    sound.play().catch(() => console.log("Sound play blocked (expected before user interaction)"));
  }
  document.removeEventListener("click", playSoundOnce);
  document.removeEventListener("keydown", playSoundOnce);
}
document.addEventListener("click", playSoundOnce);
document.addEventListener("keydown", playSoundOnce);
</script>

</body>
</html>
